/* ═══════════════════════════════════════════════════════════════════════════
   ROTARY KNOB v2 — Brutalist / Data Display
   Arc-based value indicator with numerical readout
   ═══════════════════════════════════════════════════════════════════════════ */

.knob-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  user-select: none;
}

/* ─── Size Variants ─────────────────────────────────────────────────────── */
.knob-small {
  --knob-size: 48px;
  --stroke-width: 3px;
  --indicator-size: 4px;
}

.knob-medium {
  --knob-size: 64px;
  --stroke-width: 4px;
  --indicator-size: 6px;
}

.knob-large {
  --knob-size: 80px;
  --stroke-width: 5px;
  --indicator-size: 8px;
}

/* ─── Label ─────────────────────────────────────────────────────────────── */
.knob-label {
  font-family: var(--font-mono);
  font-size: var(--text-2xs);
  font-weight: 500;
  color: var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 1px;
  text-align: center;
}

/* ─── The Knob Assembly ─────────────────────────────────────────────────── */
.knob {
  width: var(--knob-size);
  height: var(--knob-size);
  position: relative;
  cursor: ns-resize;
}

.knob.dragging {
  cursor: grabbing;
}

/* ─── Tick Marks — Grid-like ────────────────────────────────────────────── */
.knob-ticks {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.knob-tick {
  position: absolute;
  width: 1px;
  height: 4px;
  background: var(--color-gray-700);
  left: 50%;
  top: 2px;
  transform-origin: center calc(var(--knob-size) / 2 - 2px);
}

.knob-tick.major {
  height: 6px;
  background: var(--color-gray-500);
}

.knob-tick.center {
  background: var(--color-text-secondary);
}

/* ─── Knob Body — Minimal circle with arc ───────────────────────────────── */
.knob-body {
  position: absolute;
  top: 50%;
  left: 50%;
  width: calc(var(--knob-size) - 16px);
  height: calc(var(--knob-size) - 16px);
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  transition: border-color var(--transition-fast);
}

.knob:hover .knob-body {
  border-color: var(--color-border-strong);
}

.knob.dragging .knob-body {
  border-color: var(--color-white);
}

/* ─── Indicator Line ────────────────────────────────────────────────────── */
.knob-indicator {
  position: absolute;
  width: 2px;
  height: 10px;
  background: var(--color-white);
  left: 50%;
  top: 4px;
  transform: translateX(-50%);
}

.knob-small .knob-indicator {
  height: 8px;
  width: 2px;
}

.knob-large .knob-indicator {
  height: 12px;
  width: 2px;
}

/* ─── Center Cap — Minimal ──────────────────────────────────────────────── */
.knob-cap {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 8px;
  height: 8px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: var(--color-gray-700);
  pointer-events: none;
}

/* ─── Value Display — Primary focus ─────────────────────────────────────── */
.knob-value {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--color-text-primary);
  letter-spacing: -0.5px;
  min-width: 60px;
  text-align: center;
  padding: var(--space-1) 0;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
}

.knob.dragging + .knob-value {
  border-color: var(--color-white);
  color: var(--color-white);
}

.knob-unit {
  color: var(--color-text-tertiary);
  margin-left: 1px;
  font-weight: 400;
}

/* ─── Arc indicator (SVG overlay) ───────────────────────────────────────── */
.knob-arc {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.knob-arc circle {
  fill: none;
  stroke-linecap: butt;
}

.knob-arc .arc-track {
  stroke: var(--color-gray-800);
}

.knob-arc .arc-value {
  stroke: var(--color-white);
  transition: stroke-dashoffset 0.05s ease;
}

.knob.dragging .knob-arc .arc-value {
  stroke: var(--color-white);
}

/* Color variants - now just intensity changes */
.knob-color-secondary .knob-arc .arc-value,
.knob-color-hot .knob-arc .arc-value,
.knob-color-cool .knob-arc .arc-value {
  stroke: var(--color-white);
}
